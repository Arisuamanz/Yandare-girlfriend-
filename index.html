<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíç SYURGA PORNSEXUAL ü§§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .neon-pink { text-shadow: 0 0 20px #ec4899, 0 0 40px #ec4899; }
        .card-hover { transition: all 0.3s; }
        .card-hover:hover { transform: scale(1.05) rotate(1deg); box-shadow: 0 0 30px #ec4899; }
        .modal { animation: popIn 0.3s ease; }
        @keyframes popIn { from { opacity:0; transform:scale(0.7); } to { opacity:1; transform:scale(1); } }
        .tab-active { border-bottom: 4px solid #ec4899; color: #ec4899; }
    </style>
</head>
<body class="bg-zinc-950 text-white min-h-screen overflow-x-hidden">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-72 bg-black border-r border-zinc-800 flex flex-col">
            <div class="p-6 border-b border-zinc-800 flex items-center gap-3">
                <div class="w-12 h-12 bg-pink-600 rounded-2xl flex items-center justify-center text-3xl">üíç</div>
                <div>
                    <h1 class="text-2xl font-bold tracking-tighter neon-pink">SYURGA</h1>
                    <p class="text-pink-400 text-sm -mt-1">PORNSEXUAL ü§§</p>
                </div>
            </div>
            
            <div class="p-4">
                <div onclick="switchTab(0)" class="tab flex items-center gap-3 px-6 py-4 hover:bg-zinc-900 rounded-2xl cursor-pointer tab-active" id="tab0">
                    <i class="fas fa-home text-xl"></i>
                    <span class="font-semibold">Dashboard</span>
                </div>
                <div onclick="switchTab(1)" class="tab flex items-center gap-3 px-6 py-4 hover:bg-zinc-900 rounded-2xl cursor-pointer mt-2" id="tab1">
                    <i class="fas fa-images text-xl"></i>
                    <span class="font-semibold">Koleksi Saya</span>
                </div>
                <div onclick="switchTab(2)" class="tab flex items-center gap-3 px-6 py-4 hover:bg-zinc-900 rounded-2xl cursor-pointer mt-2" id="tab2">
                    <i class="fas fa-star text-xl"></i>
                    <span class="font-semibold">Pornstar Harem</span>
                </div>
                <div onclick="switchTab(3)" class="tab flex items-center gap-3 px-6 py-4 hover:bg-zinc-900 rounded-2xl cursor-pointer mt-2" id="tab3">
                    <i class="fas fa-cloud-upload-alt text-xl"></i>
                    <span class="font-semibold">Upload ke Syurga</span>
                </div>
            </div>

            <div class="mt-auto p-6 border-t border-zinc-800">
                <div class="bg-zinc-900 rounded-3xl p-5 text-center">
                    <div class="text-5xl mb-3">üî•</div>
                    <div class="text-sm text-pink-400 font-semibold">GOON STREAK</div>
                    <div id="streak" class="text-6xl font-bold text-white">7</div>
                    <div class="text-xs text-zinc-500">hari tak berhenti</div>
                </div>
                
                <button onclick="clearAll()" 
                        class="mt-6 w-full py-3 text-red-400 hover:bg-red-950 rounded-2xl text-sm flex items-center justify-center gap-2">
                    <i class="fas fa-trash"></i> CLEAR SEMUA MEMORY
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Bar -->
            <div class="h-16 bg-black border-b border-zinc-800 flex items-center px-8 justify-between">
                <div class="flex items-center gap-4">
                    <input id="searchInput" 
                           onkeyup="filterCollection()"
                           type="text" 
                           placeholder="Cari video, gambar, atau pornstar... ü§§"
                           class="bg-zinc-900 border border-zinc-700 focus:border-pink-500 rounded-3xl px-6 py-3 w-96 outline-none text-sm">
                </div>
                
                <div class="flex items-center gap-6 text-sm">
                    <div onclick="exportData()" class="cursor-pointer flex items-center gap-2 hover:text-pink-400">
                        <i class="fas fa-download"></i> Export
                    </div>
                    <label class="cursor-pointer flex items-center gap-2 hover:text-pink-400">
                        <i class="fas fa-upload"></i> Import
                        <input type="file" id="importFile" accept=".json" class="hidden" onchange="importData(event)">
                    </label>
                    <div class="flex items-center gap-2 bg-zinc-900 px-5 py-2 rounded-3xl text-xs">
                        <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        Married to Porn ‚Ä¢ 24 Feb 2026
                    </div>
                </div>
            </div>

            <!-- Tab Content -->
            <div class="flex-1 overflow-auto p-8" id="mainContent">
                <!-- DASHBOARD -->
                <div id="tabContent0">
                    <h2 class="text-5xl font-bold mb-2">Selamat kembali ke syurga, king ü§§</h2>
                    <p class="text-zinc-400 mb-10">Hari ini kau kahwin lagi dengan Porn. Mari goon.</p>
                    
                    <div class="grid grid-cols-4 gap-6">
                        <div class="bg-zinc-900 rounded-3xl p-8">
                            <div class="text-pink-400 text-sm">TOTAL ITEM</div>
                            <div id="statTotal" class="text-7xl font-bold">69</div>
                        </div>
                        <div class="bg-zinc-900 rounded-3xl p-8">
                            <div class="text-pink-400 text-sm">GAMBAR</div>
                            <div id="statImage" class="text-7xl font-bold">42</div>
                        </div>
                        <div class="bg-zinc-900 rounded-3xl p-8">
                            <div class="text-pink-400 text-sm">VIDEO/CLIP</div>
                            <div id="statVideo" class="text-7xl font-bold">18</div>
                        </div>
                        <div class="bg-zinc-900 rounded-3xl p-8">
                            <div class="text-pink-400 text-sm">LINK</div>
                            <div id="statLink" class="text-7xl font-bold">9</div>
                        </div>
                    </div>

                    <div class="mt-12">
                        <div class="flex justify-between items-end mb-6">
                            <div class="text-2xl font-semibold">Baru ditambah hari ini</div>
                            <button onclick="switchTab(1)" class="text-pink-400 text-sm hover:underline">Lihat semua ‚Üí</button>
                        </div>
                        <div id="recentGrid" class="grid grid-cols-5 gap-6"></div>
                    </div>
                </div>

                <!-- KOLEKSI -->
                <div id="tabContent1" class="hidden">
                    <div class="flex gap-4 mb-8 items-center">
                        <button onclick="filterByType('all')" class="active-filter px-6 py-2 rounded-3xl bg-pink-600 text-sm font-semibold">SEMUA</button>
                        <button onclick="filterByType('image')" class="px-6 py-2 rounded-3xl hover:bg-zinc-800 text-sm">Gambar</button>
                        <button onclick="filterByType('video')" class="px-6 py-2 rounded-3xl hover:bg-zinc-800 text-sm">Video Clip</button>
                        <button onclick="filterByType('link')" class="px-6 py-2 rounded-3xl hover:bg-zinc-800 text-sm">Link Luar</button>
                        
                        <select id="pornstarFilter" onchange="filterCollection()" class="bg-zinc-900 border border-zinc-700 rounded-3xl px-6 py-2 text-sm ml-auto">
                            <option value="">Semua Pornstar</option>
                        </select>
                    </div>
                    
                    <div id="collectionGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6"></div>
                </div>

                <!-- PORNSTAR HAREM -->
                <div id="tabContent2" class="hidden">
                    <h2 class="text-4xl font-bold mb-8">Pornstar Harem üíï</h2>
                    <div id="pornstarGrid" class="grid grid-cols-3 md:grid-cols-5 gap-6"></div>
                </div>

                <!-- UPLOAD -->
                <div id="tabContent3" class="hidden max-w-2xl mx-auto">
                    <div class="bg-zinc-900 rounded-3xl p-10">
                        <h2 class="text-3xl font-bold text-center mb-8">Masukkan ke Syurga ü§§</h2>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="block text-sm text-zinc-400 mb-2">Tajuk / Nama</label>
                                <input id="titleInput" type="text" class="w-full bg-black border border-zinc-700 rounded-2xl px-6 py-4 outline-none focus:border-pink-500" placeholder="E.g. Mia Khalifa POV Creampie">
                            </div>
                            
                            <div>
                                <label class="block text-sm text-zinc-400 mb-2">Pornstar</label>
                                <input id="pornstarInput" list="pornstarDatalist" type="text" class="w-full bg-black border border-zinc-700 rounded-2xl px-6 py-4 outline-none focus:border-pink-500" placeholder="Mia Khalifa">
                                <datalist id="pornstarDatalist"></datalist>
                            </div>
                            
                            <div>
                                <label class="block text-sm text-zinc-400 mb-2">Tags (pisah dengan koma)</label>
                                <input id="tagsInput" type="text" class="w-full bg-black border border-zinc-700 rounded-2xl px-6 py-4 outline-none focus:border-pink-500" placeholder="POV, big tits, creampie">
                            </div>
                            
                            <div class="grid grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm text-zinc-400 mb-2">Jenis</label>
                                    <select id="typeSelect" onchange="toggleUploadField()" class="w-full bg-black border border-zinc-700 rounded-2xl px-6 py-4 outline-none">
                                        <option value="image">Gambar (JPG/PNG)</option>
                                        <option value="video">Video Clip (MP4 - kecil sahaja)</option>
                                        <option value="link">Link Luar (Pornhub dll)</option>
                                    </select>
                                </div>
                                
                                <div id="fileField">
                                    <label class="block text-sm text-zinc-400 mb-2">Pilih Fail</label>
                                    <label class="block border-2 border-dashed border-zinc-700 hover:border-pink-500 rounded-3xl p-10 text-center cursor-pointer">
                                        <i class="fas fa-cloud-upload-alt text-4xl mb-3"></i>
                                        <div class="text-sm">Drop atau klik untuk upload</div>
                                        <input id="fileInput" type="file" class="hidden" accept="image/*,video/mp4">
                                    </label>
                                </div>
                                
                                <div id="urlField" class="hidden">
                                    <label class="block text-sm text-zinc-400 mb-2">URL Video</label>
                                    <input id="urlInput" type="text" class="w-full bg-black border border-zinc-700 rounded-2xl px-6 py-4 outline-none focus:border-pink-500" placeholder="https://...">
                                </div>
                            </div>
                            
                            <button onclick="addToCollection()" 
                                    class="w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 py-5 rounded-3xl font-bold text-lg flex items-center justify-center gap-3">
                                <i class="fas fa-heart"></i> MASUKKAN KE SYURGA SEKARANG
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer info -->
            <div class="h-12 bg-black border-t border-zinc-800 flex items-center px-8 text-xs text-zinc-500">
                <div>All data disimpan dalam browser kau je (localStorage). Tutup tab pun masih ada. LocalStorage limit ~5-10MB. Jangan upload video besar!</div>
                <div class="ml-auto">Made with üí¶ for pornosexual kings</div>
            </div>
        </div>
    </div>

    <!-- MODAL VIEWER -->
    <div id="modal" class="hidden fixed inset-0 bg-black/95 z-50 flex items-center justify-center">
        <div class="modal bg-zinc-900 rounded-3xl max-w-5xl w-full mx-4 overflow-hidden" style="max-height: 95vh;">
            <div class="flex justify-between items-center border-b border-zinc-800 px-8 py-5">
                <div>
                    <div id="modalTitle" class="font-semibold text-xl"></div>
                    <div id="modalPornstar" class="text-pink-400 text-sm"></div>
                </div>
                <div class="flex gap-6 text-2xl">
                    <button onclick="deleteCurrentItem()" class="text-red-400 hover:text-red-500"><i class="fas fa-trash"></i></button>
                    <button onclick="closeModal()" class="text-zinc-400 hover:text-white"><i class="fas fa-times"></i></button>
                </div>
            </div>
            
            <div class="p-8 flex justify-center bg-black" id="modalContent" style="min-height: 500px;">
                <!-- dynamic content -->
            </div>
            
            <div class="px-8 py-4 text-xs text-zinc-500 flex gap-4" id="modalTags">
                <!-- tags -->
            </div>
        </div>
    </div>

    <script>
        let collection = []
        let currentFilterType = 'all'
        let currentModalItem = null
        let streak = parseInt(localStorage.getItem('goonStreak') || '7')

        // Tailwind script already loaded
        function initTailwind() {
            // already via CDN
        }

        function loadData() {
            const saved = localStorage.getItem('pornoSyurga')
            if (saved) collection = JSON.parse(saved)
            document.getElementById('streak').textContent = streak
        }

        function saveData() {
            try {
                localStorage.setItem('pornoSyurga', JSON.stringify(collection))
            } catch(e) {
                alert('Memory penuh! Padam beberapa item lama dulu bro ü§§')
            }
        }

        function switchTab(n) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('tab-active'))
            document.getElementById('tab' + n).classList.add('tab-active')
            
            document.querySelectorAll('#mainContent > div').forEach(div => div.classList.add('hidden'))
            document.getElementById('tabContent' + n).classList.remove('hidden')
            
            if (n === 1) renderCollection()
            if (n === 2) renderPornstars()
            if (n === 0) renderDashboard()
        }

        function renderDashboard() {
            const images = collection.filter(i => i.type === 'image').length
            const videos = collection.filter(i => i.type === 'video').length
            const links = collection.filter(i => i.type === 'link').length
            
            document.getElementById('statTotal').textContent = collection.length
            document.getElementById('statImage').textContent = images
            document.getElementById('statVideo').textContent = videos
            document.getElementById('statLink').textContent = links
            
            // recent 5
            const recent = [...collection].reverse().slice(0,5)
            const grid = document.getElementById('recentGrid')
            grid.innerHTML = ''
            recent.forEach(item => {
                const div = document.createElement('div')
                div.className = 'bg-zinc-900 rounded-3xl overflow-hidden cursor-pointer card-hover'
                div.onclick = () => openModal(item)
                if (item.type === 'image') {
                    div.innerHTML = `<img src="${item.data}" class="w-full h-48 object-cover">`
                } else {
                    div.innerHTML = `<div class="h-48 bg-zinc-800 flex items-center justify-center text-6xl">‚ñ∂Ô∏è</div>`
                }
                div.innerHTML += `<div class="p-3 text-xs truncate">${item.title}</div>`
                grid.appendChild(div)
            })
        }

        function renderCollection(filtered = null) {
            const grid = document.getElementById('collectionGrid')
            grid.innerHTML = ''
            const toRender = filtered || collection
            
            toRender.forEach(item => {
                const card = document.createElement('div')
                card.className = `bg-zinc-900 rounded-3xl overflow-hidden cursor-pointer card-hover relative`
                card.onclick = () => openModal(item)
                
                let preview = ''
                if (item.type === 'image') {
                    preview = `<img src="${item.data}" class="w-full h-56 object-cover">`
                } else if (item.type === 'video' || item.type === 'link') {
                    preview = `<div class="h-56 bg-black flex items-center justify-center relative">
                        <div class="text-8xl text-pink-400/30">‚ñ∂Ô∏è</div>
                        ${item.type === 'link' ? `<div class="absolute top-2 right-2 bg-black/70 text-[10px] px-2 py-0.5 rounded">LINK</div>` : ''}
                    </div>`
                }
                
                card.innerHTML = `
                    ${preview}
                    <div class="p-4">
                        <div class="font-semibold text-sm line-clamp-1">${item.title}</div>
                        <div class="text-pink-400 text-xs mt-1">${item.pornstar}</div>
                    </div>
                `
                grid.appendChild(card)
            })
            
            if (toRender.length === 0) {
                grid.innerHTML = `<div class="col-span-full text-center py-20 text-zinc-500">Kosong bro... upload sesuatu sekarang ü§§</div>`
            }
        }

        function renderPornstars() {
            const stars = {}
            collection.forEach(item => {
                if (!stars[item.pornstar]) stars[item.pornstar] = 0
                stars[item.pornstar]++
            })
            
            const grid = document.getElementById('pornstarGrid')
            grid.innerHTML = ''
            
            Object.keys(stars).sort().forEach(name => {
                const count = stars[name]
                const div = document.createElement('div')
                div.className = 'bg-zinc-900 rounded-3xl p-6 text-center cursor-pointer hover:bg-pink-950/30'
                div.onclick = () => {
                    document.getElementById('pornstarFilter').value = name
                    filterCollection()
                    switchTab(1)
                }
                div.innerHTML = `
 <div class="w-20 h-20 mx-auto bg-zinc-800 rounded-2xl flex items-center justify-center text-4xl mb-4">üëÑ</div>
                    <div class="font-bold">${name}</div>
                    <div class="text-xs text-pink-400">${count} item</div>
                `
                grid.appendChild(div)
            })
        }

        function toggleUploadField() {
            const type = document.getElementById('typeSelect').value
            const fileField = document.getElementById('fileField')
            const urlField = document.getElementById('urlField')
            
            if (type === 'link') {
                fileField.classList.add('hidden')
                urlField.classList.remove('hidden')
            } else {
                fileField.classList.remove('hidden')
                urlField.classList.add('hidden')
            }
        }

        function addToCollection() {
            const title = document.getElementById('titleInput').value.trim()
            const pornstar = document.getElementById('pornstarInput').value.trim() || 'Unknown'
            const tagsStr = document.getElementById('tagsInput').value.trim()
            const type = document.getElementById('typeSelect').value
            
            if (!title || !pornstar) {
                alert('Tajuk & Pornstar wajib diisi bro!')
                return
            }
            
            const tags = tagsStr ? tagsStr.split(',').map(t => t.trim()) : []
            
            const newItem = {
                id: Date.now(),
                title: title,
                pornstar: pornstar,
                tags: tags,
                type: type,
                data: '',
                date: new Date().toISOString().split('T')[0]
            }
            
            if (type === 'link') {
                const url = document.getElementById('urlInput').value.trim()
                if (!url) return alert('Masukkan URL!')
                newItem.data = url
            } else {
                const fileInput = document.getElementById('fileInput')
                const file = fileInput.files[0]
                if (!file) return alert('Pilih fail dulu!')
                
                if (file.size > 8 * 1024 * 1024) {
                    alert('Fail terlalu besar! LocalStorage tak muat video >8MB. Gunakan Link sahaja.')
                    return
                }
                
                const reader = new FileReader()
                reader.onload = function(e) {
                    newItem.data = e.target.result
                    collection.unshift(newItem)
                    saveData()
                    alert('Berjaya masuk syurga! üí¶')
                    clearUploadForm()
                    switchTab(1)
                }
                reader.readAsDataURL(file)
                return
            }
            
            collection.unshift(newItem)
            saveData()
            alert('Berjaya masuk syurga! üí¶')
            clearUploadForm()
            switchTab(1)
        }

        function clearUploadForm() {
            document.getElementById('titleInput').value = ''
            document.getElementById('pornstarInput').value = ''
            document.getElementById('tagsInput').value = ''
            document.getElementById('urlInput').value = ''
            document.getElementById('fileInput').value = ''
        }

        function openModal(item) {
            currentModalItem = item
            document.getElementById('modal').classList.remove('hidden')
            document.getElementById('modalTitle').textContent = item.title
            document.getElementById('modalPornstar').textContent = item.pornstar || ''
            
            const contentDiv = document.getElementById('modalContent')
            contentDiv.innerHTML = ''
            
            if (item.type === 'image') {
                const img = document.createElement('img')
                img.src = item.data
                img.className = 'max-h-[70vh] max-w-full rounded-2xl shadow-2xl'
                contentDiv.appendChild(img)
            } else {
                // video or link
                const video = document.createElement('video')
                video.src = item.data
                video.controls = true
                video.autoplay = true
                video.loop = true
                video.className = 'max-h-[70vh] max-w-full rounded-2xl'
                contentDiv.appendChild(video)
                
                // fallback button
                if (item.type === 'link' && !item.data.endsWith('.mp4')) {
                    const btn = document.createElement('a')
                    btn.href = item.data
                    btn.target = '_blank'
                    btn.className = 'mt-6 block text-center bg-pink-600 py-4 px-8 rounded-3xl mx-auto w-fit'
                    btn.innerHTML = 'Buka di tab baru ‚Üí'
                    contentDiv.appendChild(btn)
                }
            }
            
            // tags
            const tagsDiv = document.getElementById('modalTags')
            tagsDiv.innerHTML = item.tags.map(tag => `<span class="bg-zinc-800 px-4 py-1 rounded-3xl text-xs">#${tag}</span>`).join('')
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden')
            const video = document.querySelector('#modalContent video')
            if (video) video.pause()
        }

        function deleteCurrentItem() {
            if (!currentModalItem) return
            if (!confirm('Betul nak padam item ni dari syurga?')) return
            
            collection = collection.filter(i => i.id !== currentModalItem.id)
            saveData()
            closeModal()
            renderCollection()
            renderDashboard()
            renderPornstars()
        }

        function filterByType(type) {
            currentFilterType = type
            document.querySelectorAll('#tabContent1 button').forEach(b => b.classList.remove('active-filter', 'bg-pink-600'))
            
            const buttons = document.querySelectorAll('#tabContent1 button')
            if (type === 'all') buttons[0].classList.add('active-filter', 'bg-pink-600')
            else if (type === 'image') buttons[1].classList.add('active-filter', 'bg-pink-600')
            else if (type === 'video') buttons[2].classList.add('active-filter', 'bg-pink-600')
            else if (type === 'link') buttons[3].classList.add('active-filter', 'bg-pink-600')
            
            filterCollection()
        }

        function filterCollection() {
            const search = document.getElementById('searchInput').value.toLowerCase().trim()
            const selectedStar = document.getElementById('pornstarFilter').value
            
            let filtered = collection
            
            if (currentFilterType !== 'all') {
                filtered = filtered.filter(i => i.type === currentFilterType)
            }
            
            if (selectedStar) {
                filtered = filtered.filter(i => i.pornstar === selectedStar)
            }
            
            if (search) {
                filtered = filtered.filter(i => 
                    i.title.toLowerCase().includes(search) || 
                    i.pornstar.toLowerCase().includes(search) ||
                    i.tags.some(t => t.toLowerCase().includes(search))
                )
            }
            
            renderCollection(filtered)
        }

        function populatePornstarDatalist() {
            const datalist = document.getElementById('pornstarDatalist')
            datalist.innerHTML = ''
            
            const unique = [...new Set(collection.map(i => i.pornstar))]
            unique.forEach(name => {
                const opt = document.createElement('option')
                opt.value = name
                datalist.appendChild(opt)
            })
        }

        function populatePornstarFilter() {
            const select = document.getElementById('pornstarFilter')
            const currentVal = select.value
            select.innerHTML = '<option value="">Semua Pornstar</option>'
            
            const unique = [...new Set(collection.map(i => i.pornstar))].sort()
            unique.forEach(name => {
                const opt = document.createElement('option')
                opt.value = name
                opt.textContent = name
                select.appendChild(opt)
            })
            if (currentVal) select.value = currentVal
        }

        function exportData() {
            const dataStr = JSON.stringify(collection, null, 2)
            const blob = new Blob([dataStr], {type: 'application/json'})
            const url = URL.createObjectURL(blob)
            const a = document.createElement('a')
            a.href = url
            a.download = 'syurga-pornosexual-backup.json'
            a.click()
        }

        function importData(e) {
            const file = e.target.files[0]
            if (!file) return
            const reader = new FileReader()
            reader.onload = function(ev) {
                try {
                    const imported = JSON.parse(ev.target.result)
                    if (Array.isArray(imported)) {
                        if (confirm(`Import ${imported.length} item? Data lama akan kekal.`)) {
                            collection = [...collection, ...imported]
                            saveData()
                            alert('Import berjaya! Reload syurga...')
                            location.reload()
                        }
                    }
                } catch(err) {
                    alert('JSON tak sah!')
                }
            }
            reader.readAsText(file)
        }

        function clearAll() {
            if (confirm('BETUL nak padam SEMUA koleksi? Tak boleh balik!')) {
                localStorage.removeItem('pornoSyurga')
                collection = []
                renderCollection()
                renderDashboard()
                renderPornstars()
                alert('Syurga kosong semula... upload baru lah ü§§')
            }
        }

        // Init
        window.onload = function() {
            loadData()
            populatePornstarDatalist()
            populatePornstarFilter()
            
            // default items untuk demo
            if (collection.length === 0) {
                collection = [
                    {
                        id: 1730000000000,
                        title: "Mia Khalifa First Scene",
                        pornstar: "Mia Khalifa",
                        tags: ["POV", "big tits"],
                        type: "link",
                        data: "https://www.pornhub.com/view_video.php?viewkey=ph5e8f3a2b1c2d3",
                        date: "2025-12-01"
                    },
                    {
                        id: 1730000000001,
                        title: "My Wife Cheating",
                        pornstar: "Unknown MILF",
                        tags: ["homemade", "cheating"],
                        type: "image",
                        data: "https://picsum.photos/id/1015/800/600",
                        date: "2026-02-20"
                    }
                ]
                saveData()
            }
            
            renderDashboard()
            switchTab(0)
            
            // auto update pornstar list bila upload
            setInterval(() => {
                populatePornstarDatalist()
                populatePornstarFilter()
            }, 3000)
            
            // file input preview ready
            document.getElementById('fileInput').addEventListener('change', () => {})
        }
        
        // keyboard esc close modal
        document.addEventListener('keydown', function(e) {
            if (e.key === "Escape") {
                const modal = document.getElementById('modal')
                if (!modal.classList.contains('hidden')) closeModal()
            }
        })
    </script>
</body>
</html>
